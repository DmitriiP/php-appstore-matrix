<PRE>
<?php
/*

Copyright (c) 2013 Alan Beebe

Permission is hereby granted, free of charge, to any person obtaining a copy of this
software and associated documentation files (the "Software"), to deal in the Software
without restriction, including without limitation the rights to use, copy, modify, merge,
publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons
to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or
substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE
FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.

*/

/*

This script generates a JSON object containing the App Store price Matrix from the iOS Paid Apps contract PDF

1. Log into iTunes Connect
2. Click on "Contracts, Tax, and Banking"
3. Download the "All (See Contract)" PDF
4. For each currency, select all the values in the column and paste them into the appropriate variable below
6. When you select and paste the columns, include both the price and proceeds in the selection.  This script can figure if its price, proceed, price, proceed, or if its price.. price.. price.. proceed.. proceed.. proceed
5. This script should be able to parse out the appropriate value and perform some checks to make sure everything is correct

*/

$tiers = "0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87";

$arrCurrency = array();
$arrCurrency["USD"] = "0.00 0.00 0.99 0.70 1.99 1.40 2.99 2.10 3.99 2.80 4.99 3.50 5.99 4.20 6.99 4.90 7.99 5.60 8.99 6.30 9.99 7.00 10.99 7.70 11.99 8.40 12.99 9.10 13.99 9.80 14.99 10.50 15.99 11.20 16.99 11.90 17.99 12.60 18.99 13.30 19.99 14.00 20.99 14.70 21.99 15.40 22.99 16.10 23.99 16.80 24.99 17.50 25.99 18.20 26.99 18.90 27.99 19.60 28.99 20.30 29.99 21.00 30.99 21.70 31.99 22.40 32.99 23.10 33.99 23.80 34.99 24.50 35.99 25.20 36.99 25.90 37.99 26.60 38.99 27.30 39.99 28.00 40.99 28.70 41.99 29.40 42.99 30.10 43.99 30.80 44.99 31.50 45.99 32.20 46.99 32.90 47.99 33.60 48.99 34.30 49.99 35.00 54.99 38.50 59.99 42.00 64.99 45.50 69.99 49.00 74.99 52.50 79.99 56.00 84.99 59.50 89.99 63.00 94.99 66.50 99.99 70.00 109.99 77.00 119.99 84.00 124.99 87.50 129.99 91.00 139.99 98.00 149.99 105.00 159.99 112.00 169.99 119.00 174.99 122.50 179.99 126.00 189.99 133.00 199.99 140.00 209.99 147.00 219.99 154.00 229.99 161.00 239.99 168.00 249.99 175.00 299.99 210.00 349.99 245.00 399.99 280.00 449.99 315.00 499.99 350.00 599.99 420.00 699.99 490.00 799.99 560.00 899.99 630.00 999.99 700.00";
$arrCurrency["CAD"] = "0.00 0.00 0.99 0.70 1.99 1.40 2.99 2.10 3.99 2.80 4.99 3.50 5.99 4.20 6.99 4.90 7.99 5.60 8.99 6.30 9.99 7.00 10.99 7.70 11.99 8.40 12.99 9.10 13.99 9.80 14.99 10.50 15.99 11.20 16.99 11.90 17.99 12.60 18.99 13.30 19.99 14.00 20.99 14.70 21.99 15.40 22.99 16.10 23.99 16.80 24.99 17.50 25.99 18.20 26.99 18.90 27.99 19.60 28.99 20.30 29.99 21.00 30.99 21.70 31.99 22.40 32.99 23.10 33.99 23.80 34.99 24.50 35.99 25.20 36.99 25.90 37.99 26.60 38.99 27.30 39.99 28.00 40.99 28.70 41.99 29.40 42.99 30.10 43.99 30.80 44.99 31.50 45.99 32.20 46.99 32.90 47.99 33.60 48.99 34.30 49.99 35.00 54.99 38.50 59.99 42.00 64.99 45.50 69.99 49.00 74.99 52.50 79.99 56.00 84.99 59.50 89.99 63.00 94.99 66.50 99.99 70.00 109.99 77.00 119.99 84.00 124.99 87.50 129.99 91.00 139.99 98.00 149.99 105.00 159.99 112.00 169.99 119.00 174.99 122.50 179.99 126.00 189.99 133.00 199.99 140.00 209.99 147.00 219.99 154.00 229.99 161.00 239.99 168.00 249.99 175.00 299.99 210.00 349.99 245.00 399.99 280.00 449.99 315.00 499.99 350.00 599.99 420.00 699.99 490.00 799.99 560.00 899.99 630.00 999.99 700.00";
$arrCurrency["MXN"] = "0.00 0.00 13.00 9.10 26.00 18.20 39.00 27.30 49.00 34.30 65.00 45.50 79.00 55.30 89.00 62.30 99.00 69.30 119.00 83.30 129.00 90.30 139.00 97.30 159.00 111.30 169.00 118.30 179.00 125.30 199.00 139.30 209.00 146.30 219.00 153.30 229.00 160.30 249.00 174.30 259.00 181.30 269.00 188.30 289.00 202.30 299.00 209.30 309.00 216.30 329.00 230.30 339.00 237.30 349.00 244.30 359.00 251.30 379.00 265.30 389.00 272.30 399.00 279.30 419.00 293.30 429.00 300.30 439.00 307.30 459.00 321.30 469.00 328.30 479.00 335.30 489.00 342.30 509.00 356.30 519.00 363.30 529.00 370.30 549.00 384.30 559.00 391.30 569.00 398.30 589.00 412.30 599.00 419.30 609.00 426.30 619.00 433.30 639.00 447.30 649.00 454.30 699.00 489.30 799.00 559.30 849.00 594.30 899.00 629.30 999.00 699.30 1049.00 734.30 1099.00 769.30 1199.00 839.30 1249.00 874.30 1299.00 909.30 1399.00 979.30 1499.00 1049.30 1599.00 1119.30 1699.00 1189.30 1799.00 1259.30 1899.00 1329.30 1999.00 1399.30 2199.00 1539.30 2299.00 1609.30 2399.00 1679.30 2499.00 1749.30 2599.00 1819.30 2699.00 1889.30 2799.00 1959.30 2999.00 2099.30 3099.00 2169.30 3199.00 2239.30 3899.00 2729.30 4499.00 3149.30 4999.00 3499.30 5999.00 4199.30 6499.00 4549.30 7999.00 5599.30 8999.00 6299.30 9999.00 6999.30 11999.00 8399.30 12999.00 9099.30";
$arrCurrency["AUD"] = "0.00 0.00 0.99 0.63 1.99 1.27 2.99 1.90 4.49 2.86 5.49 3.49 6.49 4.13 7.49 4.77 8.49 5.40 9.49 6.04 10.49 6.68 11.49 7.31 12.99 8.27 13.99 8.90 14.99 9.54 15.99 10.18 16.99 10.81 17.99 11.45 18.99 12.08 19.99 12.72 20.99 13.36 21.99 13.99 22.99 14.63 23.99 15.27 24.99 15.90 25.99 16.54 26.99 17.18 27.99 17.81 29.99 19.08 30.99 19.72 31.99 20.36 32.99 20.99 33.99 21.63 34.99 22.27 35.99 22.90 36.99 23.54 37.99 24.18 38.99 24.81 39.99 25.45 40.99 26.08 41.99 26.72 42.99 27.36 43.99 27.99 44.99 28.63 45.99 29.27 46.99 29.90 47.99 30.54 48.99 31.18 49.99 31.81 50.99 32.45 51.99 33.08 59.99 38.18 64.99 41.36 69.99 44.54 74.99 47.72 79.99 50.90 84.99 54.08 89.99 57.27 94.99 60.45 99.99 63.63 109.99 69.99 119.99 76.36 129.99 82.72 134.99 85.90 139.99 89.08 149.99 95.45 159.99 101.81 169.99 108.18 179.99 114.54 184.99 117.72 189.99 120.90 199.99 127.27 209.99 133.63 219.99 139.99 229.99 146.36 239.99 152.72 249.99 159.08 269.99 171.81 319.99 203.63 379.99 241.81 429.99 273.63 499.99 318.18 549.99 349.99 649.99 413.63 749.99 477.27 849.99 540.90 949.99 604.54 1049.99 668.18";
$arrCurrency["NZD"] = "0.00 0.00 1.29 0.90 2.59 1.81 4.19 2.93 5.29 3.70 6.49 4.54 8.29 5.80 9.99 6.99 10.99 7.69 12.99 9.09 13.99 9.79 14.99 10.49 15.99 11.19 16.99 11.89 17.99 12.59 18.99 13.29 19.99 13.99 20.99 14.69 22.99 16.09 23.99 16.79 24.99 17.49 25.99 18.19 27.99 19.59 28.99 20.29 29.99 20.99 30.99 21.69 32.99 23.09 34.99 24.49 35.99 25.19 36.99 25.89 38.99 27.29 39.99 27.99 40.99 28.69 41.99 29.39 43.99 30.79 44.99 31.49 45.99 32.19 46.99 32.89 47.99 33.59 48.99 34.29 49.99 34.99 50.99 35.69 51.99 36.39 53.99 37.79 54.99 38.49 55.99 39.19 56.99 39.89 58.99 41.29 59.99 41.99 60.99 42.69 64.99 45.49 74.99 52.49 79.99 55.99 84.99 59.49 94.99 66.49 99.99 69.99 104.99 73.49 109.99 76.99 114.99 80.49 119.99 83.99 124.99 87.49 149.99 104.99 159.99 111.99 164.99 115.49 169.99 118.99 179.99 125.99 199.99 139.99 209.99 146.99 229.99 160.99 234.99 164.49 239.99 167.99 249.99 174.99 259.99 181.99 269.99 188.99 279.99 195.99 289.99 202.99 299.99 209.99 319.99 223.99 399.99 279.99 449.99 314.99 499.99 349.99 549.99 384.99 649.99 454.99 749.99 524.99 849.99 594.99 949.99 664.99 1049.99 734.99 1249.99 874.99";
$arrCurrency["JPY"] = "0 0 100 70 200 140 300 210 400 280 500 350 600 420 700 490 800 560 900 630 1000 700 1100 770 1200 840 1300 910 1400 980 1500 1050 1600 1120 1700 1190 1800 1260 1900 1330 2000 1400 2100 1470 2200 1540 2300 1610 2400 1680 2500 1750 2600 1820 2700 1890 2800 1980 2900 2030 3000 2100 3100 2170 3200 2240 3300 2310 3400 2380 3500 2450 3600 2520 3700 2590 3800 2680 3900 2730 4000 2800 4100 2870 4200 2940 4300 3013 4400 3080 4500 3150 4600 3220 4700 3290 4800 3360 4900 3430 5000 3500 5400 3780 5800 4060 6400 4480 6800 4760 7400 5180 7800 5460 8400 5880 8800 6160 9400 6580 9800 6860 10800 7560 11800 8260 12400 8680 12800 8960 13800 9660 14800 10360 15800 11060 16800 11760 17400 12180 17800 12460 18800 13160 19800 13860 20800 14560 21800 15260 22800 15960 23800 16660 24800 17360 28800 20160 34800 24360 38800 27160 44800 31360 48800 34160 58800 41160 68800 48160 78800 55160 88800 62160 98800 69160";
$arrCurrency["EUR"] = "0.00 0.00 0.89 0.54 1.79 1.09 2.69 1.64 3.59 2.19 4.49 2.73 5.49 3.34 5.99 3.65 6.99 4.25 7.99 4.86 8.99 5.47 9.99 6.08 10.99 6.69 11.99 7.30 12.99 7.91 13.99 8.52 14.49 8.82 14.99 9.12 15.99 9.73 16.99 10.34 17.99 10.95 18.99 11.56 19.99 12.17 20.99 12.78 21.49 13.08 21.99 13.39 22.99 13.99 23.99 14.60 24.99 15.21 25.99 15.82 26.99 16.43 27.99 17.04 28.99 17.65 29.49 17.95 29.99 18.25 30.99 18.86 31.99 19.47 32.99 20.08 33.99 20.69 34.99 21.30 35.99 21.91 36.99 22.52 37.49 22.82 37.99 23.12 38.99 23.73 39.99 24.34 40.99 24.95 41.99 25.56 42.99 26.17 43.99 26.78 44.99 27.39 49.99 30.43 54.99 33.47 59.99 36.52 62.99 38.34 64.99 39.56 69.99 42.60 74.99 45.65 79.99 48.69 84.99 51.73 89.99 54.78 94.99 57.82 99.99 60.86 104.99 63.91 109.99 66.95 119.99 73.04 129.99 79.12 139.99 85.21 149.99 91.3 154.99 94.34 159.99 97.39 169.99 103.47 179.99 109.56 189.99 115.65 199.99 121.73 209.99 127.82 219.99 133.91 229.99 139.99 269.99 164.34 319.99 194.78 359.99 219.12 399.99 243.47 449.99 273.91 549.99 334.78 639.99 389.56 719.99 438.25 799.99 486.95 899.99 547.82";
$arrCurrency["DKK"] = "0.00 0.00 7.00 4.26 13.00 7.91 19.00 11.57 25.00 15.22 32.00 19.48 39.00 23.74 45.00 27.39 55.00 33.48 59.00 35.91 65.00 39.57 69.00 42.00 79.00 48.09 85.00 51.74 89.00 54.17 99.00 60.26 105.00 63.91 109.00 66.35 119.00 72.43 125.00 76.09 129.00 78.52 139.00 84.61 145.00 88.26 149.00 90.70 159.00 96.78 165.00 100.43 169.00 102.87 179.00 108.96 185.00 112.61 189.00 115.04 199.00 121.13 205.00 124.78 209.00 127.22 219.00 133.30 225.00 136.96 229.00 139.39 239.00 145.48 245.00 149.13 249.00 151.57 259.00 157.65 265.00 161.30 269.00 163.74 279.00 169.83 285.00 173.48 289.00 175.91 299.00 182.00 305.00 185.65 309.00 188.09 319.00 194.17 325.00 197.83 329.00 200.26 379.00 230.70 399.00 242.87 429.00 261.13 449.00 273.30 499.00 303.74 529.00 322.00 549.00 334.17 599.00 364.61 629.00 382.87 649.00 395.04 749.00 455.91 799.00 486.35 849.00 516.78 899.00 547.22 949.00 577.65 999.00 608.09 1049.00 638.52 1099.00 668.96 1149.00 699.39 1199.00 729.83 1249.00 760.26 1299.00 790.70 1399.00 851.57 1449.00 882.00 1499.00 912.43 1599.00 973.30 1699.00 1034.17 1999.00 1216.78 2299.00 1399.39 2599.00 1582.00 2999.00 1825.48 3299.00 2008.09 3999.00 2434.17 4499.00 2738.52 4999.00 3042.87 5999.00 3651.57 6499.00 3955.91";
$arrCurrency["SEK"] = "0.00 0.00 7.00 4.26 15.00 9.13 22.00 13.39 28.00 17.04 38.00 23.13 45.00 27.39 49.00 29.83 55.00 33.48 65.00 39.57 75.00 45.65 85.00 51.74 95.00 57.83 99.00 60.26 105.00 63.91 109.00 66.35 119.00 72.43 129.00 78.52 135.00 82.17 139.00 84.61 149.00 90.70 159.00 96.78 169.00 102.87 175.00 106.52 179.00 108.96 189.00 115.04 195.00 118.70 199.00 121.13 209.00 127.22 219.00 133.30 229.00 139.39 235.00 143.04 239.00 145.48 245.00 149.13 249.00 151.57 265.00 161.30 269.00 163.74 275.00 167.39 285.00 173.48 289.00 175.91 299.00 182.00 309.00 188.09 315.00 191.74 319.00 194.17 329.00 200.26 339.00 206.35 345.00 210.00 349.00 212.43 359.00 218.52 369.00 224.61 379.00 230.70 399.00 242.87 419.00 255.04 469.00 285.48 519.00 315.91 569.00 346.35 599.00 364.61 619.00 376.78 659.00 401.13 699.00 425.48 749.00 455.91 799.00 486.35 849.00 516.78 879.00 535.04 899.00 547.22 949.00 577.65 999.00 608.09 1099.00 668.96 1179.00 717.65 1199.00 729.83 1239.00 754.17 1319.00 802.87 1399.00 851.57 1499.00 912.43 1599.00 973.30 1699.00 1034.17 1799.00 1095.04 1899.00 1155.91 2299.00 1399.39 2599.00 1582.00 2999.00 1825.48 3399.00 2068.96 3799.00 2312.43 4499.00 2738.52 5299.00 3225.48 5999.00 3651.57 6799.00 4138.52 7499.00 4564.61";
$arrCurrency["CHF"] = "0.00 0.00 1.00 0.65 2.00 1.30 3.00 1.94 4.00 2.59 5.00 3.24 6.00 3.89 7.00 4.54 8.00 5.19 9.00 5.83 10.00 6.48 11.00 7.13 12.00 7.78 13.00 8.43 14.00 9.07 15.00 9.72 16.00 10.37 17.00 11.02 18.00 11.67 19.00 12.31 20.00 12.96 21.00 13.61 22.00 14.26 23.00 14.91 24.00 15.56 25.00 16.20 26.00 16.85 27.00 17.50 28.00 18.15 28.50 18.47 29.00 18.80 30.00 19.44 31.00 20.09 32.00 20.74 33.00 21.39 34.00 22.04 35.00 22.69 36.00 23.33 37.00 23.98 38.00 24.63 39.00 25.28 40.00 25.93 41.00 26.57 42.00 27.22 43.00 27.87 44.00 28.52 45.00 29.17 46.00 29.81 47.00 30.46 47.50 30.79 48.00 31.11 55.00 35.65 60.00 38.89 65.00 42.13 70.00 45.37 75.00 48.61 80.00 51.85 85.00 55.09 90.00 58.33 95.00 61.57 100.00 64.81 110.00 71.30 120.00 77.78 125.00 81.02 130.00 84.26 140.00 90.74 150.00 97.22 160.00 103.7 170.00 110.19 175.00 113.43 180.00 116.67 190.00 123.15 200.00 129.63 210.00 136.11 220.00 142.59 230.00 149.07 240.00 155.56 250.00 162.04 300.00 194.44 350.00 226.85 400.00 259.26 450.00 291.67 500.00 324.07 600.00 388.89 700.00 453.70 800.00 518.52 900.00 583.33 1000.00 648.15";
$arrCurrency["NOK"] = "0.00 0.00 7.00 3.92 14.00 7.84 21.00 11.76 28.00 15.68 35.00 19.60 42.00 23.52 49.00 27.44 56.00 31.36 63.00 35.28 70.00 39.20 77.00 43.12 84.00 47.04 91.00 50.96 98.00 54.88 105.00 58.80 112.00 62.72 119.00 66.64 126.00 70.56 133.00 74.48 140.00 78.40 147.00 82.32 154.00 86.24 161.00 90.16 168.00 94.08 175.00 98.00 182.00 101.92 189.00 105.84 196.00 109.76 203.00 113.68 209.00 117.04 217.00 121.52 224.00 125.44 231.00 129.36 238.00 133.28 245.00 137.20 252.00 141.12 259.00 145.04 266.00 148.96 273.00 152.88 280.00 156.80 287.00 160.72 294.00 164.64 301.00 168.56 308.00 172.48 315.00 176.40 322.00 180.32 329.00 184.24 336.00 188.16 343.00 192.08 349.00 195.44 385.00 215.60 420.00 235.20 455.00 254.80 490.00 274.40 525.00 294.00 560.00 313.60 595.00 333.20 630.00 352.80 665.00 372.40 700.00 392.00 770.00 431.20 840.00 470.40 870.00 487.20 910.00 509.60 980.00 548.80 1050.00 588.00 1120.00 627.20 1190.00 666.40 1220.00 683.20 1260.00 705.60 1330.00 744.80 1400.00 784.00 1470.00 823.20 1540.00 862.40 1610.00 901.60 1680.00 940.80 1750.00 980.00 2100.00 1176.00 2450.00 1372.00 2800.00 1568.00 3150.00 1764.00 3500.00 1960.00 4200.00 2352.00 4900.00 2744.00 5600.00 3136.00 6300.00 3528.00 7000.00 3920.00";
$arrCurrency["GBP"] = "0.00 0.00 0.69 0.42 1.49 0.91 1.99 1.21 2.49 1.52 2.99 1.82 3.99 2.43 4.99 3.04 5.49 3.34 5.99 3.65 6.99 4.25 7.49 4.56 7.99 4.86 8.99 5.47 9.99 6.08 10.49 6.39 10.99 6.69 11.99 7.30 12.99 7.91 13.49 8.21 13.99 8.52 14.99 9.12 15.49 9.43 15.99 9.73 16.99 10.34 17.49 10.65 17.99 10.95 18.99 11.56 19.49 11.86 19.99 12.17 20.99 12.78 21.99 13.39 22.49 13.69 22.99 13.99 23.99 14.60 24.49 14.91 24.99 15.21 25.99 15.82 26.99 16.43 27.49 16.73 27.99 17.04 28.99 17.65 29.49 17.95 29.99 18.25 30.99 18.86 31.99 19.47 32.49 19.78 32.99 20.08 33.99 20.69 34.49 20.99 34.99 21.30 37.99 23.12 39.99 24.34 44.99 27.39 47.99 29.21 49.99 30.43 54.99 33.47 57.99 35.30 59.99 36.52 64.99 39.56 69.99 42.60 74.99 45.65 79.99 48.69 84.99 51.73 89.99 54.78 94.99 57.82 99.99 60.86 109.99 66.95 119.99 73.04 122.99 74.86 124.99 76.08 129.99 79.12 139.99 85.21 144.99 88.25 149.99 91.30 159.99 97.39 169.99 103.47 174.99 106.52 199.99 121.73 249.99 152.17 299.99 182.60 324.99 197.82 349.99 213.04 399.99 243.47 499.99 304.34 549.99 334.78 599.99 365.21 699.99 426.08";
$arrCurrency["CNY"] = "0.00 0.00 6.00 4.20 12.00 8.40 18.00 12.60 25.00 17.50 30.00 21.00 40.00 28.00 45.00 31.50 50.00 35.00 60.00 42.00 68.00 47.60 73.00 51.10 78.00 54.60 88.00 61.60 93.00 65.10 98.00 68.60 108.00 75.60 113.00 79.10 118.00 82.60 123.00 86.10 128.00 89.60 138.00 96.60 148.00 103.60 153.00 107.10 158.00 110.60 163.00 114.10 168.00 117.60 178.00 124.60 188.00 131.60 193.00 135.10 198.00 138.60 208.00 145.60 218.00 152.60 223.00 156.10 228.00 159.60 233.00 163.10 238.00 166.60 243.00 170.10 248.00 173.60 253.00 177.10 258.00 180.60 263.00 184.10 268.00 187.60 273.00 191.10 278.00 194.60 283.00 198.10 288.00 201.60 298.00 208.60 308.00 215.60 318.00 222.60 328.00 229.60 348.00 243.60 388.00 271.60 418.00 292.60 448.00 313.60 488.00 341.60 518.00 362.60 548.00 383.60 588.00 411.60 618.00 432.60 648.00 453.60 698.00 488.60 798.00 558.60 818.00 572.60 848.00 593.60 898.00 628.60 998.00 698.60 1048.00 733.60 1098.00 768.60 1148.00 803.60 1198.00 838.60 1248.00 873.60 1298.00 908.60 1398.00 978.60 1448.00 1013.60 1498.00 1048.60 1598.00 1118.60 1648.00 1153.60 1998.00 1398.60 2298.00 1608.60 2598.00 1818.60 2998.00 2098.60 3298.00 2308.60 3998.00 2798.60 4498.00 3148.60 4998.00 3498.60 5898.00 4128.60 6498.00 4548.60";
$arrCurrency["SGD"] = "0.00 0 1.28 0.9 2.58 1.81 3.98 2.79 4.98 3.49 5.98 4.19 6.98 4.89 8.98 6.29 9.98 6.99 10.98 7.69 12.98 9.09 13.98 9.79 14.98 10.49 15.98 11.19 17.98 12.59 18.98 13.29 19.98 13.99 21.98 15.39 22.98 16.09 23.98 16.79 25.98 18.19 26.98 18.89 27.98 19.59 28.98 20.29 30.98 21.69 31.98 22.39 32.98 23.09 34.98 24.49 35.98 25.19 36.98 25.89 38.98 27.29 39.98 27.99 40.98 28.69 41.98 29.39 43.98 30.79 44.98 31.49 45.98 32.19 47.98 33.59 48.98 34.29 49.98 34.99 51.98 36.39 52.98 37.09 53.98 37.79 54.98 38.49 56.98 39.89 57.98 40.59 58.98 41.29 60.98 42.69 61.98 43.39 62.98 44.09 64.98 45.49 68.98 48.29 74.98 52.49 78.98 55.29 88.98 62.29 94.98 66.49 98.98 69.29 104.98 73.49 108.98 76.29 118.98 83.29 128.98 90.29 138.98 97.29 148.98 104.29 158.98 111.29 168.98 118.29 178.98 125.29 188.98 132.29 198.98 139.29 208.98 146.29 218.98 153.29 228.98 160.29 238.98 167.29 258.98 181.29 268.98 188.29 278.98 195.29 288.98 202.29 298.98 209.29 308.98 216.29 368.98 258.29 428.98 300.29 488.98 342.29 588.98 412.29 648.98 454.29 788.98 552.29 888.98 622.29 988.98 692.29 1088.98 762.29 1288.98 902.29";
$arrCurrency["HKD"] = "0.00 0.00 8.00 5.60 15.00 10.50 23.00 16.10 28.00 19.60 38.00 26.60 48.00 33.60 53.00 37.10 58.00 40.60 68.00 47.60 78.00 54.60 83.00 58.10 88.00 61.60 98.00 68.60 108.00 75.60 118.00 82.60 123.00 86.10 128.00 89.60 138.00 96.60 148.00 103.60 158.00 110.60 163.00 114.10 168.00 117.60 178.00 124.60 188.00 131.60 198.00 138.60 203.00 142.10 208.00 145.60 218.00 152.60 228.00 159.60 238.00 166.60 243.00 170.10 248.00 173.60 258.00 180.60 268.00 187.60 278.00 194.60 283.00 198.10 288.00 201.60 298.00 208.60 308.00 215.60 318.00 222.60 323.00 226.10 328.00 229.60 338.00 236.60 348.00 243.60 358.00 250.60 363.00 254.10 368.00 257.60 378.00 264.60 388.00 271.60 398.00 278.60 418.00 292.60 448.00 313.60 488.00 341.60 548.00 383.60 588.00 411.60 618.00 432.60 648.00 453.60 688.00 481.60 748.00 523.60 788.00 551.60 848.00 593.60 888.00 621.60 988.00 691.60 1048.00 733.60 1088.00 761.60 1188.00 831.60 1248.00 873.60 1288.00 901.60 1388.00 971.60 1448.00 1013.60 1488.00 1041.60 1588.00 1111.60 1648.00 1153.60 1688.00 1181.60 1788.00 1251.60 1848.00 1293.60 1888.00 1321.60 2288.00 1601.60 2688.00 1881.60 3088.00 2161.60 3488.00 2441.60 3888.00 2721.60 4488.00 3141.60 4988.00 3491.60 5988.00 4191.60 6988.00 4891.60 7888.00 5521.60";
$arrCurrency["TWD"] = "0 0 30 21 60 42 90 63 120 84 150 105 180 126 210 147 240 168 270 189 300 210 330 231 360 252 390 273 420 294 450 315 490 343 520 364 540 378 570 399 590 413 630 441 660 462 690 483 720 504 750 525 790 553 820 574 840 588 870 609 890 623 930 651 960 672 990 693 1020 714 1050 735 1090 763 1120 784 1140 798 1170 819 1190 833 1230 861 1260 882 1290 903 1320 924 1350 945 1390 973 1420 994 1440 1008 1470 1029 1490 1043 1590 1113 1790 1253 1990 1393 2090 1463 2190 1533 2390 1673 2490 1743 2690 1883 2790 1953 2990 2093 3290 2303 3590 2513 3790 2653 3890 2723 4190 2933 4490 3143 4790 3353 5090 3563 5290 3703 5390 3773 5690 3983 5990 4193 6290 4403 6590 4613 6890 4823 7190 5033 7490 5243 8990 6293 9990 6993 11900 8330 12900 9030 14900 10430 17900 12530 20900 14630 23900 16730 26900 18830 29900 20930";
$arrCurrency["RUB"] = "0 33 66 99 129 169 199 229 269 299 329 349 379 399 449 479 499 549 579 599 649 679 699 749 779 799 849 879 899 949 979 999 1029 1049 1099 1129 1149 1199 1229 1249 1299 1329 1349 1399 1429 1449 1499 1529 1549 1590 1690 1790 1990 2090 2290 2490 2690 2790 2990 3090 3290 3490 3790 3890 3990 4490 4790 4990 5490 5690 5790 5990 6490 6790 6990 7490 7790 7990 9790 11490 12990 14990 16990 19990 22990 26990 29990 32990 0.00 23.10 46.20 69.30 90.30 118.30 139.30 160.30 188.30 209.30 230.30 244.30 265.30 279.30 314.30 335.30 349.30 384.30 405.30 419.30 454.30 475.30 489.30 524.30 545.30 559.30 594.30 615.30 629.30 664.30 685.30 699.30 720.30 734.30 769.30 790.30 804.30 839.30 860.30 874.30 909.30 930.30 944.30 979.30 1000.30 1014.30 1049.30 1070.30 1084.30 1113.00 1183.00 1253.00 1393.00 1463.00 1603.00 1743.00 1883.00 1953.00 2093.00 2163.00 2303.00 2443.00 2653.00 2723.00 2793.00 3143.00 3353.00 3493.00 3843.00 3983.00 4053.00 4193.00 4543.00 4753.00 4893.00 5243.00 5453.00 5593.00 6853.00 8043.00 9093.00 10493.00 11893.00 13993.00 16093.00 18893.00 20993.00 23093.00";
$arrCurrency["TRY"] = "0.00 0.00 1.79 1.25 3.59 2.51 5.49 3.84 6.99 4.89 8.99 6.29 10.99 7.69 12.99 9.09 14.99 10.49 16.99 11.89 17.99 12.59 19.99 13.99 21.99 15.39 23.99 16.79 24.99 17.49 26.99 18.89 28.99 20.29 30.99 21.69 32.99 23.09 34.99 24.49 35.99 25.19 37.99 26.59 39.99 27.99 41.99 29.39 43.99 30.79 44.99 31.49 46.99 32.89 48.99 34.29 50.99 35.69 52.99 37.09 53.99 37.79 55.99 39.19 57.99 40.59 59.99 41.99 61.99 43.39 62.99 44.09 64.99 45.49 66.99 46.89 68.99 48.29 70.99 49.69 71.99 50.39 73.99 51.79 75.99 53.19 77.99 54.59 79.99 55.99 80.99 56.69 82.99 58.09 84.99 59.49 86.99 60.89 88.99 62.29 89.99 62.99 99.99 69.99 109.99 76.99 119.99 83.99 129.99 90.99 139.99 97.99 144.99 101.49 149.99 104.99 159.99 111.99 169.99 118.99 179.99 125.99 199.99 139.99 219.99 153.99 229.99 160.99 239.99 167.99 249.99 174.99 269.99 188.99 289.99 202.99 309.99 216.99 319.99 223.99 329.99 230.99 349.99 244.99 359.99 251.99 379.99 265.99 399.99 279.99 419.99 293.99 439.99 307.99 449.99 314.99 549.99 384.99 649.99 454.99 749.99 524.99 799.99 559.99 899.99 629.99 1099.99 769.99 1299.99 909.99 1399.99 979.99 1599.99 1119.99 1799.99 1259.99";
$arrCurrency["INR"] = "0 0.00 55 38.50 110 77.00 170 119.00 220 154.00 270 189.00 350 245.00 390 273.00 450 315.00 490 343.00 550 385.00 590 413.00 650 455.00 690 483.00 750 525.00 790 553.00 890 623.00 950 665.00 990 693.00 1050 735.00 1100 770.00 1150 805.00 1200 840.00 1250 875.00 1300 910.00 1350 945.00 1400 980.00 1500 1050.00 1550 1085.00 1600 1120.00 1650 1155.00 1700 1190.00 1750 1225.00 1800 1260.00 1850 1295.00 1900 1330.00 2000 1400.00 2050 1435.00 2100 1470.00 2150 1505.00 2200 1540.00 2250 1575.00 2300 1610.00 2350 1645.00 2400 1680.00 2450 1715.00 2500 1750.00 2550 1785.00 2600 1820.00 2650 1855.00 2700 1890.00 2900 2030.00 3200 2240.00 3500 2450.00 3900 2730.00 4200 2940.00 4500 3150.00 4700 3290.00 4900 3430.00 5200 3640.00 5500 3850.00 5900 4130.00 6500 4550.00 6900 4830.00 7500 5250.00 7900 5530.00 8500 5950.00 8900 6230.00 9500 6650.00 9900 6930.00 10500 7350.00 10900 7630.00 11500 8050.00 11900 8330.00 12500 8750.00 12900 9030.00 13500 9450.00 13900 9730.00 15900 11130.00 18900 13230.00 21900 15330.00 24900 17430.00 27900 19530.00 32900 23030.00 38900 27230.00 44900 31430.00 49900 34930.00 54900 38430.00";
$arrCurrency["IDR"] = "0 0.00 9500 6650.00 19000 13300.00 29000 20300.00 39000 27300.00 49000 34300.00 59000 41300.00 69000 48300.00 79000 55300.00 89000 62300.00 95000 66500.00 99000 69300.00 109000 76300.00 119000 83300.00 129000 90300.00 139000 97300.00 149000 104300.00 159000 111300.00 169000 118300.00 179000 125300.00 189000 132300.00 199000 139300.00 209000 146300.00 219000 153300.00 229000 160300.00 239000 167300.00 249000 174300.00 259000 181300.00 269000 188300.00 279000 195300.00 289000 202300.00 299000 209300.00 309000 216300.00 319000 223300.00 329000 230300.00 339000 237300.00 349000 244300.00 359000 251300.00 369000 258300.00 379000 265300.00 389000 272300.00 395000 276500.00 399000 279300.00 409000 286300.00 419000 293300.00 429000 300300.00 439000 307300.00 449000 314300.00 459000 321300.00 469000 328300.00 479000 335300.00 499000 349300.00 549000 384300.00 599000 419300.00 649000 454300.00 699000 489300.00 749000 524300.00 799000 559300.00 849000 594300.00 899000 629300.00 949000 664300.00 1049000 734300.00 1149000 804300.00 1199000 839300.00 1249000 874300.00 1299000 909300.00 1399000 979300.00 1499000 1049300.00 1599000 1119300.00 1649000 1154300.00 1699000 1189300.00 1799000 1259300.00 1899000 1329300.00 1999000 1399300.00 2099000 1469300.00 2199000 1539300.00 2299000 1609300.00 2399000 1679300.00 2899000 2029300.00 3399000 2379300.00 3899000 2729300.00 4299000 3009300.00 4799000 3359300.00 5499000 3849300.00 6499000 4549300.00 7499000 5249300.00 8499000 5949300.00 9499000 6649300.00";
$arrCurrency["ILS"] = "0.00 0.00 3.90 2.73 7.90 5.53 11.90 8.33 15.90 11.13 19.90 13.93 23.90 16.73 27.90 19.53 31.90 22.33 35.90 25.13 39.90 27.93 43.90 30.73 47.90 33.53 51.90 36.33 55.90 39.13 59.90 41.93 63.90 44.73 67.90 47.53 71.90 50.33 75.90 53.13 79.90 55.93 83.90 58.73 87.90 61.53 91.90 64.33 95.90 67.13 99.90 69.93 103.90 72.73 107.90 75.53 111.90 78.33 115.90 81.13 119.90 83.93 123.90 86.73 127.90 89.53 131.90 92.33 135.90 95.13 139.90 97.93 143.90 100.73 147.90 103.53 151.90 106.33 155.90 109.13 159.90 111.93 163.90 114.73 167.90 117.53 171.90 120.33 175.90 123.13 179.90 125.93 183.90 128.73 187.90 131.53 191.90 134.33 195.90 137.13 199.90 139.93 219.90 153.93 239.90 167.93 259.90 181.93 279.90 195.93 299.90 209.93 319.90 223.93 339.90 237.93 359.90 251.93 379.90 265.93 399.90 279.93 439.90 307.93 479.90 335.93 499.90 349.93 519.90 363.93 559.90 391.93 599.90 419.93 639.90 447.93 679.90 475.93 699.90 489.93 719.90 503.93 759.90 531.93 799.90 559.93 839.90 587.93 879.90 615.93 919.90 643.93 959.90 671.93 999.90 699.93 1199.90 839.93 1399.90 979.93 1599.90 1119.93 1799.90 1259.93 1999.90 1399.93 2399.90 1679.93 2799.90 1959.93 3199.90 2239.93 3599.90 2519.93 3999.90 2799.93";
$arrCurrency["ZAR"] = "0.00 7.99 15.99 24.99 32.99 39.99 48.99 56.99 64.99 72.99 79.99 89.99 99.99 109.99 114.99 119.99 129.99 139.99 149.99 154.99 159.99 169.99 179.99 189.99 194.99 199.99 209.99 219.99 229.99 234.99 239.99 249.99 259.99 269.99 274.99 279.99 289.99 299.99 309.99 314.99 319.99 329.99 339.99 349.99 354.99 359.99 369.99 379.99 389.99 394.99 399.99 449.99 499.99 549.99 579.99 599.99 649.99 699.99 749.99 779.99 799.99 899.99 999.99 1049.99 1099.99 1149.99 1199.99 1299.99 1399.99 1449.99 1499.99 1549.99 1599.99 1699.99 1799.99 1899.99 1949.99 1999.99 2499.99 2999.99 3299.99 3799.99 3999.99 4999.99 5999.99 6499.99 7499.99 7999.99 0.00 5.59 11.19 17.49 23.09 27.99 34.29 39.89 45.49 51.09 55.99 62.99 69.99 76.99 80.49 83.99 90.99 97.99 104.99 108.49 111.99 118.99 125.99 132.99 136.49 139.99 146.99 153.99 160.99 164.49 167.99 174.99 181.99 188.99 192.49 195.99 202.99 209.99 216.99 220.49 223.99 230.99 237.99 244.99 248.49 251.99 258.99 265.99 272.99 276.49 279.99 314.99 349.99 384.99 405.99 419.99 454.99 489.99 524.99 545.99 559.99 629.99 699.99 734.99 769.99 804.99 839.99 909.99 979.99 1014.99 1049.99 1084.99 1119.99 1189.99 1259.99 1329.99 1364.99 1399.99 1749.99 2099.99 2309.99 2659.99 2799.99 3499.99 4199.99 4549.99 5249.99 5599.99";
$arrCurrency["SAR"] = "0.00 3.69 7.29 10.99 14.99 17.99 20.99 24.99 29.99 32.99 36.99 39.99 44.99 47.99 49.99 54.99 59.99 64.99 67.99 69.99 74.99 77.99 79.99 84.99 87.99 89.99 94.99 99.99 104.99 107.99 109.99 114.99 117.99 119.99 124.99 127.99 129.99 134.99 139.99 144.99 147.99 149.99 154.99 157.99 159.99 164.99 167.99 169.99 174.99 179.99 184.99 199.99 219.99 229.99 249.99 279.99 299.99 319.99 329.99 349.99 369.99 399.99 429.99 449.99 479.99 499.99 549.99 579.99 599.99 649.99 679.99 699.99 749.99 779.99 799.99 849.99 879.99 899.99 1099.99 1299.99 1499.99 1599.99 1799.99 2199.99 2499.99 2999.99 3299.99 3699.99 0.00 2.58 5.10 7.69 10.49 12.59 14.69 17.49 20.99 23.09 25.89 27.99 31.49 33.59 34.99 38.49 41.99 45.49 47.59 48.99 52.49 54.59 55.99 59.49 61.59 62.99 66.49 69.99 73.49 75.59 76.99 80.49 82.59 83.99 87.49 89.59 90.99 94.49 97.99 101.49 103.59 104.99 108.49 110.59 111.99 115.49 117.59 118.99 122.49 125.99 129.49 139.99 153.99 160.99 174.99 195.99 209.99 223.99 230.99 244.99 258.99 279.99 300.99 314.99 335.99 349.99 384.99 405.99 419.99 454.99 475.99 489.99 524.99 545.99 559.99 594.99 615.99 629.99 769.99 909.99 1049.99 1119.99 1259.99 1539.99 1749.99 2099.99 2309.99 2589.99";
$arrCurrency["AED"] = "0.00 3.69 7.29 10.99 14.99 17.99 20.99 24.99 29.99 32.99 36.99 39.99 44.99 47.99 49.99 54.99 59.99 64.99 67.99 69.99 74.99 77.99 79.99 84.99 87.99 89.99 94.99 99.99 104.99 107.99 109.99 114.99 117.99 119.99 124.99 127.99 129.99 134.99 139.99 144.99 147.99 149.99 154.99 157.99 159.99 164.99 167.99 169.99 174.99 179.99 184.99 199.99 219.99 229.99 249.99 279.99 299.99 319.99 329.99 349.99 369.99 399.99 429.99 449.99 479.99 499.99 549.99 579.99 599.99 649.99 679.99 699.99 749.99 779.99 799.99 849.99 879.99 899.99 1099.99 1299.99 1499.99 1599.99 1799.99 2199.99 2499.99 2999.99 3299.99 3699.99 0.00 2.58 5.10 7.69 10.49 12.59 14.69 17.49 20.99 23.09 25.89 27.99 31.49 33.59 34.99 38.49 41.99 45.49 47.59 48.99 52.49 54.59 55.99 59.49 61.59 62.99 66.49 69.99 73.49 75.59 76.99 80.49 82.59 83.99 87.49 89.59 90.99 94.49 97.99 101.49 103.59 104.99 108.49 110.59 111.99 115.49 117.59 118.99 122.49 125.99 129.49 139.99 153.99 160.99 174.99 195.99 209.99 223.99 230.99 244.99 258.99 279.99 300.99 314.99 335.99 349.99 384.99 405.99 419.99 454.99 475.99 489.99 524.99 545.99 559.99 594.99 615.99 629.99 769.99 909.99 1049.99 1119.99 1259.99 1539.99 1749.99 2099.99 2309.99 2589.99";

/*
$arrCurrency = array();
$arrCurrency["USD"] = "";
$arrCurrency["CAD"] = "";
$arrCurrency["MXN"] = "";
$arrCurrency["AUD"] = "";
$arrCurrency["NZD"] = "";
$arrCurrency["JPY"] = "";
$arrCurrency["EUR"] = "";
$arrCurrency["DKK"] = "";
$arrCurrency["SEK"] = "";
$arrCurrency["CHF"] = "";
$arrCurrency["NOK"] = "";
$arrCurrency["GBP"] = "";
$arrCurrency["CNY"] = "";
$arrCurrency["SGD"] = "";
$arrCurrency["HKD"] = "";
$arrCurrency["TWD"] = "";
$arrCurrency["RUB"] = "";
$arrCurrency["TRY"] = "";
$arrCurrency["INR"] = "";
$arrCurrency["IDR"] = "";
$arrCurrency["ILS"] = "";
$arrCurrency["ZAR"] = "";
$arrCurrency["SAR"] = "";
$arrCurrency["AED"] = "";
*/


// Generate the tiers
$arrTiers = preg_split("/[\s,]+/", $tiers);
$arrTempMatrix = array();
for ($x = 0; $x < sizeof($arrTiers); $x++) {
	array_push($arrTempMatrix, array("tier"=>$arrTiers[$x], "prices"=>array(), "proceeds"=>array()));
}

// Generate the price and proceed for each currency
foreach ($arrCurrency as $code=>$values) {
	$arrPrices = array();
	$arrProceeds = array();
	$arrValues = preg_split("/[\s,]+/", $values);
	// Confirm we the number of values matches the number of tiers
	if ((sizeof($arrValues) / 2) != sizeof($arrTiers)) {
		outputError("<B>".$code."</B> values (".(sizeof($arrValues) / 2).") do not match the number of tiers (".sizeof($arrTiers).")");
	}
	if ($arrValues[1] > $arrValues[0]) {
		// price... price... price... proceed... proceed... proceed...
		for ($x = 0; $x < sizeof($arrTiers); $x++) {
			array_push($arrPrices, $arrValues[$x]);
		}
		for ($x = sizeof($arrTiers); $x < sizeof($arrValues); $x++) {
			array_push($arrProceeds, $arrValues[$x]);
		}
	} else {
		// price... proceed... price... proceed... price... proceed...
		for ($x = 0; $x < sizeof($arrValues); $x++) {
			if ($x % 2 == 0) {
				array_push($arrPrices, $arrValues[$x]);
			} else {
				array_push($arrProceeds, $arrValues[$x]);
			}
		}
	}
	for ($x = 0; $x < sizeof($arrPrices); $x++) {
		if ($arrProceeds[$x] > $arrPrices[$x]) {
			outputError("<B>".$code."</B> has proceeds (".$arrProceeds[$x].") that are greater then the price (".$arrPrices[$x].")");
		}
		$arrTempMatrix[$x]["prices"][$code] = $arrPrices[$x];
		$arrTempMatrix[$x]["proceeds"][$code] = $arrProceeds[$x];
		
		if ($arrPrices[$x] < $arrPrices[$x-1]) {
			outputError("<B>".$code."</B> has a price (".$arrPrices[$x].") for tier (".$x.") that is less then the previous tiers price (".$arrPrices[$x - 1].")");
		} else if ($arrPrices[$x] < $arrPrices[$x-1]) {
			outputError("<B>".$code."</B> has a proceed (".$arrProceeds[$x].") for tier (".$x.") that is less then the previous tiers proceed (".$arrProceeds[$x - 1].")");
		}
	}
	if (sizeof($arrPrices) != sizeof($arrProceeds)) {
		outputError("<B>".$code."</B> total number of prices (".sizeof($arrPrices).") does not match total number of proceeds (".sizeof($arrProceeds).")");
	}
}

// Generate the matrix
$arrMatrix = array();
for ($x = 0; $x < sizeof($arrTempMatrix); $x++) {
	//print $arrTempMatrix[$x]["tier"]."<BR>";
	$arrMatrix["Tier ".$arrTempMatrix[$x]["tier"]] = array("prices"=>$arrTempMatrix[$x]["prices"], "proceeds"=>$arrTempMatrix[$x]["proceeds"]);
}

// Print out the matrix
print "<TABLE BORDER=1>";
print "<TR><TD>Tier</TD>";
foreach ($arrMatrix as $tier=>$values) {
	foreach ($values["prices"] as $code=>$prices) {
		print "<TD COLSPAN=2>".$code."</TD>";
	}
	break;
}
print "</TR>";
foreach ($arrMatrix as $tier=>$values) {
	print "<TR>";
	print "<TD>".$tier."</TD>";
	foreach ($values["prices"] as $code=>$prices) {
		print "<TD>".$values["prices"][$code]."</TD>";
		print "<TD>".$values["proceeds"][$code]."</TD>";
	}
	print "</TR>";
}
print "</TABLE>";

print "<BR><BR><HR><BR><BR>";
print "<textarea rows=30 cols=200>";
print htmlentities(json_encode($arrMatrix));
print "</textarea>";


/* ----------------------------------------------- */
function outputError($message) {
	/*
	
	Output an error
	
	*/
	
	print "<HR>\n<I>".$message."</i><HR>";
	exit;
}
?>